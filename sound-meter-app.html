<!DOCTYPE html>
<html>
<head>
  <title>Sound Level Meter</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div id="heading">
      <h1>ARL-MLS1: Sound Meter</h1>
    </div>
    <p>This web application measures the dBFS (or decibels relative to full scale) of the environment. The measurement microphone takes in an  analog signal which is converted using WebAudio API into a pulse code modulation. The RMS is then calculated to determine the volume meter value and by using the formula 20*log(volume), the dBFS value of the noise source in the digital environment is defined. </p>
    <div class="section">
      <h2>Volume Meter:</h2>
      <meter id="volumeMeter"></meter>
      <h2>Sound Wave: </h2>    
      <canvas id="sineGraph"></canvas>
    </div>    
    <div class="section">
      <div class="measurement">
        <h3>Real-Time dBFS</h3>
        <div id="dbLevel"></div>
      </div>
      <div class="measurement">
        <h3>Average dBFS</h3>
        <div id="avgdbLevel"></div>
      </div>
    </div>    <div id="videoWrapper">
      <video id="webcam" autoplay></video>
    </div>
    <div id="timer">00:00</div>
    <div id="recordingIndicator">Recording...</div>
    <div id="btnContainer">
      <button id="startButton">Start Recording</button>
      <button id="stopButton">Stop Recording</button>
    </div>
    <p>Attach File(s) to Clean Data and Calculate Average dBFS of Trial Runs: </p>
    <div id = "processContainer">
      <input type="file" id="csvFileInput" accept=".csv" multiple>
      <button id="processButton">Process Data</button>
    </div>
    <div id="overallAverage"></div>
  </div>

  <script src="sound-measure.js"></script>
</body>
</html>
